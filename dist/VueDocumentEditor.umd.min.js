(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["VueDocumentEditor"]=e(require("vue")):t["VueDocumentEditor"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(){"use strict";var e={6262:function(t,e){e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n}},9274:function(e){e.exports=t},9306:function(t,e,n){var r=n(4901),o=n(6823),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a function")}},679:function(t,e,n){var r=n(1625),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new o("Incorrect invocation")}},8551:function(t,e,n){var r=n(34),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not an object")}},9617:function(t,e,n){var r=n(5397),o=n(5610),i=n(6198),s=function(t){return function(e,n,s){var a=r(e),c=i(a);if(0===c)return!t&&-1;var u,f=o(s,c);if(t&&n!==n){while(c>f)if(u=a[f++],u!==u)return!0}else for(;c>f;f++)if((t||f in a)&&a[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},4527:function(t,e,n){var r=n(3724),o=n(4376),i=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(o(t)&&!s(t,"length").writable)throw new i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},6319:function(t,e,n){var r=n(8551),o=n(9539);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(s){o(t,"throw",s)}}},2195:function(t,e,n){var r=n(9504),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},6955:function(t,e,n){var r=n(2140),o=n(4901),i=n(2195),s=n(8227),a=s("toStringTag"),c=Object,u="Arguments"===i(function(){return arguments}()),f=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=f(e=c(t),a))?n:u?i(e):"Object"===(r=i(e))&&o(e.callee)?"Arguments":r}},7740:function(t,e,n){var r=n(9297),o=n(5031),i=n(7347),s=n(4913);t.exports=function(t,e,n){for(var a=o(e),c=s.f,u=i.f,f=0;f<a.length;f++){var l=a[f];r(t,l)||n&&r(n,l)||c(t,l,u(e,l))}}},2211:function(t,e,n){var r=n(9039);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2529:function(t){t.exports=function(t,e){return{value:t,done:e}}},6699:function(t,e,n){var r=n(3724),o=n(4913),i=n(6980);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4659:function(t,e,n){var r=n(3724),o=n(4913),i=n(6980);t.exports=function(t,e,n){r?o.f(t,e,i(0,n)):t[e]=n}},2106:function(t,e,n){var r=n(283),o=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},6840:function(t,e,n){var r=n(4901),o=n(4913),i=n(283),s=n(9433);t.exports=function(t,e,n,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:e;if(r(n)&&i(n,u,a),a.global)c?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(f){}c?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6279:function(t,e,n){var r=n(6840);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},9433:function(t,e,n){var r=n(4576),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},3724:function(t,e,n){var r=n(9039);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(t,e,n){var r=n(4576),o=n(34),i=r.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},6837:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:function(t,e,n){var r=n(4576),o=r.navigator,i=o&&o.userAgent;t.exports=i?String(i):""},9519:function(t,e,n){var r,o,i=n(4576),s=n(2839),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,f=u&&u.v8;f&&(r=f.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),t.exports=o},6518:function(t,e,n){var r=n(4576),o=n(7347).f,i=n(6699),s=n(6840),a=n(9433),c=n(7740),u=n(2796);t.exports=function(t,e){var n,f,l,p,h,d,g=t.target,m=t.global,v=t.stat;if(f=m?r:v?r[g]||a(g,{}):r[g]&&r[g].prototype,f)for(l in e){if(h=e[l],t.dontCallGetSet?(d=o(f,l),p=d&&d.value):p=f[l],n=u(m?l:g+(v?".":"#")+l,t.forced),!n&&void 0!==p){if(typeof h==typeof p)continue;c(h,p)}(t.sham||p&&p.sham)&&i(h,"sham",!0),s(f,l,h,t)}}},9039:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},6080:function(t,e,n){var r=n(7476),o=n(9306),i=n(616),s=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?s(t,e):function(){return t.apply(e,arguments)}}},616:function(t,e,n){var r=n(9039);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){var r=n(616),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},350:function(t,e,n){var r=n(3724),o=n(9297),i=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},7476:function(t,e,n){var r=n(2195),o=n(9504);t.exports=function(t){if("Function"===r(t))return o(t)}},9504:function(t,e,n){var r=n(616),o=Function.prototype,i=o.call,s=r&&o.bind.bind(i,i);t.exports=r?s:function(t){return function(){return i.apply(t,arguments)}}},7751:function(t,e,n){var r=n(4576),o=n(4901),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},1767:function(t){t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},851:function(t,e,n){var r=n(6955),o=n(5966),i=n(4117),s=n(6269),a=n(8227),c=a("iterator");t.exports=function(t){if(!i(t))return o(t,c)||o(t,"@@iterator")||s[r(t)]}},81:function(t,e,n){var r=n(9565),o=n(9306),i=n(8551),s=n(6823),a=n(851),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(o(n))return i(r(n,t));throw new c(s(t)+" is not iterable")}},5966:function(t,e,n){var r=n(9306),o=n(4117);t.exports=function(t,e){var n=t[e];return o(n)?void 0:r(n)}},4576:function(t,e,n){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){var r=n(9504),o=n(8981),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},421:function(t){t.exports={}},397:function(t,e,n){var r=n(7751);t.exports=r("document","documentElement")},5917:function(t,e,n){var r=n(3724),o=n(9039),i=n(4055);t.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){var r=n(9504),o=n(9039),i=n(2195),s=Object,a=r("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?a(t,""):s(t)}:s},3706:function(t,e,n){var r=n(9504),o=n(4901),i=n(7629),s=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},1181:function(t,e,n){var r,o,i,s=n(8622),a=n(4576),c=n(34),u=n(6699),f=n(9297),l=n(7629),p=n(6119),h=n(421),d="Object already initialized",g=a.TypeError,m=a.WeakMap,v=function(t){return i(t)?o(t):r(t,{})},y=function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}};if(s||l.state){var _=l.state||(l.state=new m);_.get=_.get,_.has=_.has,_.set=_.set,r=function(t,e){if(_.has(t))throw new g(d);return e.facade=t,_.set(t,e),e},o=function(t){return _.get(t)||{}},i=function(t){return _.has(t)}}else{var b=p("state");h[b]=!0,r=function(t,e){if(f(t,b))throw new g(d);return e.facade=t,u(t,b,e),e},o=function(t){return f(t,b)?t[b]:{}},i=function(t){return f(t,b)}}t.exports={set:r,get:o,has:i,enforce:v,getterFor:y}},4209:function(t,e,n){var r=n(8227),o=n(6269),i=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},4376:function(t,e,n){var r=n(2195);t.exports=Array.isArray||function(t){return"Array"===r(t)}},4901:function(t){var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){var r=n(9039),o=n(4901),i=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n===f||n!==u&&(o(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",f=s.POLYFILL="P";t.exports=s},4117:function(t){t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},6395:function(t){t.exports=!1},757:function(t,e,n){var r=n(7751),o=n(4901),i=n(1625),s=n(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,a(t))}},2652:function(t,e,n){var r=n(6080),o=n(9565),i=n(8551),s=n(6823),a=n(4209),c=n(6198),u=n(1625),f=n(81),l=n(851),p=n(9539),h=TypeError,d=function(t,e){this.stopped=t,this.result=e},g=d.prototype;t.exports=function(t,e,n){var m,v,y,_,b,x,w,E=n&&n.that,O=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),j=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),L=r(e,E),C=function(t){return m&&p(m,"normal",t),new d(!0,t)},N=function(t){return O?(i(t),T?L(t[0],t[1],C):L(t[0],t[1])):T?L(t,C):L(t)};if(S)m=t.iterator;else if(j)m=t;else{if(v=l(t),!v)throw new h(s(t)+" is not iterable");if(a(v)){for(y=0,_=c(t);_>y;y++)if(b=N(t[y]),b&&u(g,b))return b;return new d(!1)}m=f(t,v)}x=S?t.next:m.next;while(!(w=o(x,m)).done){try{b=N(w.value)}catch(P){p(m,"throw",P)}if("object"==typeof b&&b&&u(g,b))return b}return new d(!1)}},9539:function(t,e,n){var r=n(9565),o=n(8551),i=n(5966);t.exports=function(t,e,n){var s,a;o(t);try{if(s=i(t,"return"),!s){if("throw"===e)throw n;return n}s=r(s,t)}catch(c){a=!0,s=c}if("throw"===e)throw n;if(a)throw s;return o(s),n}},9462:function(t,e,n){var r=n(9565),o=n(2360),i=n(6699),s=n(6279),a=n(8227),c=n(1181),u=n(5966),f=n(7657).IteratorPrototype,l=n(2529),p=n(9539),h=a("toStringTag"),d="IteratorHelper",g="WrapForValidIterator",m=c.set,v=function(t){var e=c.getterFor(t?g:d);return s(o(f),{next:function(){var n=e(this);if(t)return n.nextHandler();try{var r=n.done?void 0:n.nextHandler();return l(r,n.done)}catch(o){throw n.done=!0,o}},return:function(){var n=e(this),o=n.iterator;if(n.done=!0,t){var i=u(o,"return");return i?r(i,o):l(void 0,!0)}if(n.inner)try{p(n.inner.iterator,"normal")}catch(s){return p(o,"throw",s)}return o&&p(o,"normal"),l(void 0,!0)}})},y=v(!0),_=v(!1);i(_,h,"Iterator Helper"),t.exports=function(t,e){var n=function(n,r){r?(r.iterator=n.iterator,r.next=n.next):r=n,r.type=e?g:d,r.nextHandler=t,r.counter=0,r.done=!1,m(this,r)};return n.prototype=e?y:_,n}},713:function(t,e,n){var r=n(9565),o=n(9306),i=n(8551),s=n(1767),a=n(9462),c=n(6319),u=a((function(){var t=this.iterator,e=i(r(this.next,t)),n=this.done=!!e.done;if(!n)return c(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return i(this),o(t),new u(s(this),{mapper:t})}},7657:function(t,e,n){var r,o,i,s=n(9039),a=n(4901),c=n(34),u=n(2360),f=n(2787),l=n(6840),p=n(8227),h=n(6395),d=p("iterator"),g=!1;[].keys&&(i=[].keys(),"next"in i?(o=f(f(i)),o!==Object.prototype&&(r=o)):g=!0);var m=!c(r)||s((function(){var t={};return r[d].call(t)!==t}));m?r={}:h&&(r=u(r)),a(r[d])||l(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},6269:function(t){t.exports={}},6198:function(t,e,n){var r=n(8014);t.exports=function(t){return r(t.length)}},283:function(t,e,n){var r=n(9504),o=n(9039),i=n(4901),s=n(9297),a=n(3724),c=n(350).CONFIGURABLE,u=n(3706),f=n(1181),l=f.enforce,p=f.get,h=String,d=Object.defineProperty,g=r("".slice),m=r("".replace),v=r([].join),y=a&&!o((function(){return 8!==d((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===g(h(e),0,7)&&(e="["+m(h(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?d(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&s(n,"arity")&&t.length!==n.arity&&d(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var r=l(t);return s(r,"source")||(r.source=v(_,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return i(this)&&p(this).source||u(this)}),"toString")},741:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},2360:function(t,e,n){var r,o=n(8551),i=n(6801),s=n(8727),a=n(421),c=n(397),u=n(4055),f=n(6119),l=">",p="<",h="prototype",d="script",g=f("IE_PROTO"),m=function(){},v=function(t){return p+d+l+t+p+"/"+d+l},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=u("iframe"),n="java"+d+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&r?y(r):_():y(r);var t=s.length;while(t--)delete b[h][s[t]];return b()};a[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[h]=o(t),n=new m,m[h]=null,n[g]=t):n=b(),void 0===e?n:i.f(n,e)}},6801:function(t,e,n){var r=n(3724),o=n(8686),i=n(4913),s=n(8551),a=n(5397),c=n(1072);e.f=r&&!o?Object.defineProperties:function(t,e){s(t);var n,r=a(e),o=c(e),u=o.length,f=0;while(u>f)i.f(t,n=o[f++],r[n]);return t}},4913:function(t,e,n){var r=n(3724),o=n(5917),i=n(8686),s=n(8551),a=n(6969),c=TypeError,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,l="enumerable",p="configurable",h="writable";e.f=r?i?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&h in n&&!n[h]){var r=f(t,e);r&&r[h]&&(t[e]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:l in n?n[l]:r[l],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(s(t),e=a(e),s(n),o)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){var r=n(3724),o=n(9565),i=n(8773),s=n(6980),a=n(5397),c=n(6969),u=n(9297),f=n(5917),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=c(e),f)try{return l(t,e)}catch(n){}if(u(t,e))return s(!o(i.f,t,e),t[e])}},8480:function(t,e,n){var r=n(1828),o=n(8727),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},3717:function(t,e){e.f=Object.getOwnPropertySymbols},2787:function(t,e,n){var r=n(9297),o=n(4901),i=n(8981),s=n(6119),a=n(2211),c=s("IE_PROTO"),u=Object,f=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof u?f:null}},1625:function(t,e,n){var r=n(9504);t.exports=r({}.isPrototypeOf)},1828:function(t,e,n){var r=n(9504),o=n(9297),i=n(5397),s=n(9617).indexOf,a=n(421),c=r([].push);t.exports=function(t,e){var n,r=i(t),u=0,f=[];for(n in r)!o(a,n)&&o(r,n)&&c(f,n);while(e.length>u)o(r,n=e[u++])&&(~s(f,n)||c(f,n));return f}},1072:function(t,e,n){var r=n(1828),o=n(8727);t.exports=Object.keys||function(t){return r(t,o)}},8773:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},4270:function(t,e,n){var r=n(9565),o=n(4901),i=n(34),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&o(n=t.toString)&&!i(a=r(n,t)))return a;if(o(n=t.valueOf)&&!i(a=r(n,t)))return a;if("string"!==e&&o(n=t.toString)&&!i(a=r(n,t)))return a;throw new s("Can't convert object to primitive value")}},5031:function(t,e,n){var r=n(7751),o=n(9504),i=n(8480),s=n(3717),a=n(8551),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=s.f;return n?c(e,n(t)):e}},7750:function(t,e,n){var r=n(4117),o=TypeError;t.exports=function(t){if(r(t))throw new o("Can't call method on "+t);return t}},6119:function(t,e,n){var r=n(5745),o=n(3392),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},7629:function(t,e,n){var r=n(6395),o=n(4576),i=n(9433),s="__core-js_shared__",a=t.exports=o[s]||i(s,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},4495:function(t,e,n){var r=n(9519),o=n(9039),i=n(4576),s=i.String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:function(t,e,n){var r=n(1291),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5397:function(t,e,n){var r=n(7055),o=n(7750);t.exports=function(t){return r(o(t))}},1291:function(t,e,n){var r=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},8014:function(t,e,n){var r=n(1291),o=Math.min;t.exports=function(t){var e=r(t);return e>0?o(e,9007199254740991):0}},8981:function(t,e,n){var r=n(7750),o=Object;t.exports=function(t){return o(r(t))}},2777:function(t,e,n){var r=n(9565),o=n(34),i=n(757),s=n(5966),a=n(4270),c=n(8227),u=TypeError,f=c("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n,c=s(t,f);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!o(n)||i(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:function(t,e,n){var r=n(2777),o=n(757);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},2140:function(t,e,n){var r=n(8227),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},6823:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){var r=n(9504),o=0,i=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36)}},7040:function(t,e,n){var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){var r=n(3724),o=n(9039);t.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:function(t,e,n){var r=n(4576),o=n(4901),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},8227:function(t,e,n){var r=n(4576),o=n(5745),i=n(9297),s=n(3392),a=n(4495),c=n(7040),u=r.Symbol,f=o("wks"),l=c?u["for"]||u:u&&u.withoutSetter||s;t.exports=function(t){return i(f,t)||(f[t]=a&&i(u,t)?u[t]:l("Symbol."+t)),f[t]}},4114:function(t,e,n){var r=n(6518),o=n(8981),i=n(6198),s=n(4527),a=n(6837),c=n(9039),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),f=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},l=u||!f();r({target:"Array",proto:!0,arity:1,forced:l},{push:function(t){var e=o(this),n=i(e),r=arguments.length;a(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return s(e,n),n}})},8111:function(t,e,n){var r=n(6518),o=n(4576),i=n(679),s=n(8551),a=n(4901),c=n(2787),u=n(2106),f=n(4659),l=n(9039),p=n(9297),h=n(8227),d=n(7657).IteratorPrototype,g=n(3724),m=n(6395),v="constructor",y="Iterator",_=h("toStringTag"),b=TypeError,x=o[y],w=m||!a(x)||x.prototype!==d||!l((function(){x({})})),E=function(){if(i(this,d),c(this)===d)throw new b("Abstract class Iterator not directly constructable")},O=function(t,e){g?u(d,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===d)throw new b("You can't redefine this property");p(this,t)?this[t]=e:f(this,t,e)}}):d[t]=e};p(d,_)||O(_,y),!w&&p(d,v)&&d[v]!==Object||O(v,E),E.prototype=d,r({global:!0,constructor:!0,forced:w},{Iterator:E})},2489:function(t,e,n){var r=n(6518),o=n(9565),i=n(9306),s=n(8551),a=n(1767),c=n(9462),u=n(6319),f=n(6395),l=c((function(){var t,e,n,r=this.iterator,i=this.predicate,a=this.next;while(1){if(t=s(o(a,r)),e=this.done=!!t.done,e)return;if(n=t.value,u(r,i,[n,this.counter++],!0))return n}}));r({target:"Iterator",proto:!0,real:!0,forced:f},{filter:function(t){return s(this),i(t),new l(a(this),{predicate:t})}})},116:function(t,e,n){var r=n(6518),o=n(2652),i=n(9306),s=n(8551),a=n(1767);r({target:"Iterator",proto:!0,real:!0},{find:function(t){s(this),i(t);var e=a(this),n=0;return o(e,(function(e,r){if(t(e,n++))return r(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},1701:function(t,e,n){var r=n(6518),o=n(713),i=n(6395);r({target:"Iterator",proto:!0,real:!0,forced:i},{map:o})},8992:function(t,e,n){n(8111)},4520:function(t,e,n){n(2489)},2577:function(t,e,n){n(116)},1454:function(t,e,n){n(1701)}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}!function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.p=""}();var o={};if(r.d(o,{default:function(){return b}}),"undefined"!==typeof window){var i=window.document.currentScript,s=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(r.p=s[1])}var a=r(9274);const c={class:"editor",ref:"editor"},u={key:0,class:"overlays",ref:"overlays"},f=["innerHTML"],l=["contenteditable"];function p(t,e,n,r,o,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",c,[n.overlay?((0,a.openBlock)(),(0,a.createElementBlock)("div",u,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.pages,((t,e)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"overlay",key:t.uuid+"-overlay",ref_for:!0,ref:e=>o.pages_overlay_refs[t.uuid]=e,innerHTML:n.overlay(e+1,o.pages.length),style:(0,a.normalizeStyle)(i.page_style(e,!1))},null,12,f)))),128))],512)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{class:"content",ref:"content",contenteditable:n.editable,style:(0,a.normalizeStyle)(i.page_style(-1)),onInput:e[0]||(e[0]=(...t)=>i.input&&i.input(...t)),onKeyup:e[1]||(e[1]=(...t)=>i.process_current_text_style&&i.process_current_text_style(...t))},null,44,l)],512)}r(4114),r(8992),r(4520),r(2577),r(1454);function h(t,e){if(!t||!e)return!1;const n=t.childNodes;for(let r=0;r<n.length;r++)if(n[r].s_tag==e)return n[r];return!1}function d(t,e,n,r,o){while(t.childNodes.length&&!n()){o=o||1!=t.childNodes.length;const i=t.lastChild;if(i.nodeType==Node.TEXT_NODE){const t=i.textContent.match(/(\s|\S+)/g),r=document.createTextNode("");e.prepend(r);const s=t?t.length:0;for(let e=0;e<s;e++){if(e==s-1&&!o)return;if(i.textContent=t.slice(0,s-e-1).join(""),r.textContent=t.slice(s-e-1,s).join(""),n())return}}else if(!i.childNodes.length||i.tagName.match(/h\d/i)||i.tagName.match(/tr/i)||"function"===typeof r&&r(i)){if(!o)return void console.log("Move-forward: first child reached with no stop condition. Aborting");e.prepend(i)}else{let t=h(e,i.s_tag);if(!t){if(!i.s_tag){const t=Math.random().toString(36).slice(2,8);i.s_tag=t}t=i.cloneNode(!1),t.s_tag=i.s_tag,e.prepend(t)}d(i,t,n,r,o),t.normalize()}if(t.contains(i))if(0==i.childNodes.length||""==i.innerHTML)t.removeChild(i);else if(!n())throw console.log("sub_child:",i,"that is in child:",t),Error("Document editor is trying to remove a non-empty sub-child. This is a bug and should not happen. Please report a repeatable set of actions that leaded to this error to https://github.com/motla/vue-document-editor/issues/new")}}function g(t,e,n){while(!n()){const n=e.firstChild;var r=(t,e)=>{const n=h(t,e.s_tag);n&&e.childNodes.length?r(n,e.firstChild):(t.append(e),t.normalize())};r(t,n)}}var m={props:{content:{type:Array,required:!0},display:{type:String,default:"grid"},editable:{type:Boolean,default:!0},overlay:Function,page_format_mm:{type:Array,default:()=>[210,297]},page_margins:{type:[String,Function],default:"10mm 15mm"},zoom:{type:Number,default:1},do_not_break:Function},data(){return{pages:[],pages_overlay_refs:{},pages_height:0,editor_width:0,prevent_next_content_update_from_parent:!1,current_text_style:!1,printing_mode:!1}},mounted(){this.update_editor_width(),this.update_css_media_style(),this.reset_content(),window.addEventListener("resize",this.update_editor_width),window.addEventListener("click",this.process_current_text_style),window.addEventListener("beforeprint",this.before_print),window.addEventListener("afterprint",this.after_print)},beforeUpdate(){this.pages_overlay_refs=[]},beforeUnmount(){window.removeEventListener("resize",this.update_editor_width),window.removeEventListener("click",this.process_current_text_style),window.removeEventListener("beforeprint",this.before_print),window.removeEventListener("afterprint",this.after_print)},computed:{css_media_style(){const t=document.createElement("style");return document.head.appendChild(t),t}},methods:{new_uuid:()=>Math.random().toString(36).slice(-5),reset_content(){if(this.reset_in_progress)return;if(this.reset_in_progress=!0,!this.content.length)return this.reset_in_progress=!1,void this.$emit("update:content",[""]);this.pages=this.content.map(((t,e)=>({uuid:this.new_uuid(),content_idx:e,template:t.template,props:t.props}))),this.update_pages_elts();const t=this.pages[0].elt;this.$refs.content.contains(t)||this.$refs.content.appendChild(t),this.pages_height=t.clientHeight+1;for(const e of this.pages){if(this.content[e.content_idx]){if("string"==typeof this.content[e.content_idx])e.elt.innerHTML="<div>"+this.content[e.content_idx]+"</div>";else if(e.template){const t=(0,a.defineCustomElement)(e.template);customElements.define("component-"+e.uuid,t),e.elt.appendChild(new t({modelValue:e.props}))}}else e.elt.innerHTML="<div><br></div>";this.$refs.content.contains(e.elt)||this.$refs.content.appendChild(e.elt)}this.fit_content_over_pages(),this.$refs.content.blur(),this.reset_in_progress=!1},fit_content_over_pages(){if(!this.pages_height)return;if(this.fit_in_progress)return;this.fit_in_progress=!0;for(let o=this.pages.length-1;o>=0;o--){const t=this.pages[o];t.elt&&document.body.contains(t.elt)||this.pages.splice(o,1)}if(!this.pages.length)return this.fit_in_progress=!1,void this.$emit("update:content",[""]);const t=window.getSelection(),e=document.createElement("null"),n=document.createElement("null");if(t&&t.rangeCount&&t.anchorNode&&(!t.anchorNode.dataset||null==t.anchorNode.dataset.isVDEPage)){const r=t.getRangeAt(0);r.insertNode(e),r.collapse(!1),r.insertNode(n)}let r=!1;for(let o=0;o<this.pages.length;o++){const t=this.pages[o];let e=this.pages[o+1],n=e?e.elt:null;!t.template&&(r||t.elt.innerHTML!=t.prev_innerHTML||n&&!e.template&&n.innerHTML!=e.prev_innerHTML)&&(r=!0,t.elt.clientHeight<=this.pages_height&&e&&e.content_idx==t.content_idx&&g(t.elt,n,(()=>!n.childNodes.length||t.elt.clientHeight>this.pages_height)),t.elt.clientHeight>this.pages_height&&(e&&e.content_idx==t.content_idx||(e={uuid:this.new_uuid(),content_idx:t.content_idx},this.pages.splice(o+1,0,e),this.update_pages_elts(),n=e.elt),d(t.elt,n,(()=>t.elt.clientHeight<=this.pages_height),this.do_not_break)),n&&e.content_idx==t.content_idx&&!n.childNodes.length&&this.pages.splice(o+1,1)),this.update_pages_elts()}for(const o of this.pages)o.template||o.elt.normalize();if(document.body.contains(e)){const r=document.createRange();r.setStart(e,0),document.body.contains(n)&&r.setEnd(n,0),t.removeAllRanges(),t.addRange(r)}e.parentElement&&e.parentElement.removeChild(e),n.parentElement&&n.parentElement.removeChild(n);for(const o of this.pages)o.prev_innerHTML=o.elt.innerHTML;this.fit_in_progress=!1},input(t){t&&(this.fit_content_over_pages(),this.emit_new_content(),"insertText"!=t.inputType&&this.process_current_text_style())},emit_new_content(){let t=!1;const e=this.content.map(((e,n)=>{const r=this.pages.filter((t=>t.content_idx==n));return r.length?"string"==typeof e?r.map((t=>{let e=t.elt;while(1==e.children.length&&e.firstChild.tagName&&"div"==e.firstChild.tagName.toLowerCase()&&!e.firstChild.getAttribute("style"))e=e.firstChild;return"<br>"==e.innerHTML||"\x3c!----\x3e"==e.innerHTML?"":e.innerHTML})).join(""):{template:e.template,props:{...e.props}}:(t=!0,!1)})).filter((t=>!1!==t));t||(this.prevent_next_content_update_from_parent=!0),this.$emit("update:content",e)},process_current_text_style(){let t=!1;const e=window.getSelection();if(e.focusNode){const n=e.focusNode.tagName?e.focusNode:e.focusNode.parentElement;if(n&&n.isContentEditable){t=window.getComputedStyle(n),t.textDecorationStack=[],t.headerLevel=0,t.isList=!1;let e=n;while(e){const n=window.getComputedStyle(e);if(t.textDecorationStack.push(n.textDecoration),"list-item"==n.display&&(t.isList=!0),!t.headerLevel)for(let r=1;r<=6;r++)if(e.tagName.toUpperCase()=="H"+r){t.headerLevel=r;break}e=e.parentElement}}}this.current_text_style=t},page_style(t,e){const n=.2645833333333,r=this.page_format_mm[0]/n,o=10,i=(o+this.page_format_mm[0])*this.zoom/n,s=20,a=this.editor_width-2*s;let c,u,f,l,p,h,d,g=1;if("horizontal"==this.display)a>this.pages.length*i?(g=Math.floor(a/i),l=a/(2*g)*(1+2*t)-r/2):(g=this.pages.length,l=i*t+r/2*(this.zoom-1)),p=0,h=this.zoom*(this.page_format_mm[0]*g+(g-1)*o),d=this.page_format_mm[1]*this.zoom;else{g=Math.floor(a/i),(g<1||"vertical"==this.display)&&(g=1),c=t%g,u=a/(2*g)*(1+2*c)-r/2,f=Math.max(0,(r*this.zoom-a)/2),l=u+f,p=(this.page_format_mm[1]+o)*this.zoom*Math.floor(t/g);const e=Math.ceil(this.pages.length/g);h=this.zoom*(this.page_format_mm[0]*g+(g-1)*o),d=this.zoom*(this.page_format_mm[1]*e+(e-1)*o)}if(t>=0){const n={position:"absolute",left:"calc("+l+"px + "+s+"px)",top:"calc("+p+"mm + "+s+"px)",width:this.page_format_mm[0]+"mm",padding:"function"==typeof this.page_margins?this.page_margins(t+1,this.pages.length):this.page_margins,transform:"scale("+this.zoom+")"};return n[e?"minHeight":"height"]=this.page_format_mm[1]+"mm",n}return{width:"calc("+h+"mm + "+2*s+"px)",height:"calc("+d+"mm + "+2*s+"px)"}},css_to_string:t=>Object.entries(t).map((([t,e])=>t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+":"+e)).join(";"),update_pages_elts(){const t=[...this.$refs.content.children].filter((t=>!this.pages.find((e=>e.elt==t))));for(const e of t)e.remove();for(const[e,n]of this.pages.entries()){if(!n.elt){n.elt=document.createElement("div"),n.elt.className="page",n.elt.dataset.isVDEPage="";const t=this.pages[e+1];this.$refs.content.insertBefore(n.elt,t?t.elt:null)}n.elt.dataset.contentIdx=n.content_idx,this.printing_mode||(n.elt.style=Object.entries(this.page_style(e,!n.template)).map((([t,e])=>t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+":"+e)).join(";")),n.elt.contentEditable=!(!this.editable||n.template)}},update_editor_width(){this.$refs.editor.classList.add("hide_children"),this.editor_width=this.$refs.editor.clientWidth,this.update_pages_elts(),this.$refs.editor.classList.remove("hide_children")},update_css_media_style(){this.css_media_style.innerHTML="@media print { @page { size: "+this.page_format_mm[0]+"mm "+this.page_format_mm[1]+"mm; margin: 0 !important; } .hidden-print { display: none !important; } }"},before_print(){this.printing_mode=!0,this._page_body=document.body;const t=document.createElement("body");t.style.margin="0",t.style.padding="0",t.style.background="white",t.style.font=window.getComputedStyle(this.$refs.editor).font,t.className=this.$refs.editor.className;for(const[n,r]of this.pages.entries()){r.elt.style="",r.elt.style.position="relative",r.elt.style.padding="function"==typeof this.page_margins?this.page_margins(n+1,this.pages.length):this.page_margins,r.elt.style.breakBefore=n?"page":"auto",r.elt.style.width="calc("+this.page_format_mm[0]+"mm - 2px)",r.elt.style.height="calc("+this.page_format_mm[1]+"mm - 2px)",r.elt.style.boxSizing="border-box",r.elt.style.overflow="hidden";const e=this.pages_overlay_refs[r.uuid];e&&(e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.transform="none",e.style.padding="0",e.style.overflow="hidden",r.elt.prepend(e)),t.append(r.elt)}const e=document.createElement("div");e.className="hidden-print",e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.right="0",e.style.bottom="0",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.background="rgba(255, 255, 255, 0.95)",e.style.cursor="pointer",e.innerHTML='<svg width="220" height="220"><path fill="rgba(0, 0, 0, 0.7)" d="M120.774,179.271v40c47.303,0,85.784-38.482,85.784-85.785c0-47.3-38.481-85.782-85.784-85.782H89.282L108.7,28.286L80.417,0L12.713,67.703l67.703,67.701l28.283-28.284L89.282,87.703h31.492c25.246,0,45.784,20.538,45.784,45.783C166.558,158.73,146.02,179.271,120.774,179.271z"/></svg>',e.addEventListener("click",this.after_print),t.append(e),document.body=t},after_print(){this.printing_mode=!1;for(const[t,e]of this.pages.entries()){e.elt.style=this.css_to_string(this.page_style(t,!e.template)),this.$refs.content.append(e.elt);const n=this.pages_overlay_refs[e.uuid];n&&(n.style=this.css_to_string(this.page_style(t,!1)),this.$refs.overlays.append(n))}document.body=this._page_body,this.update_editor_width()}},watch:{content:{handler(){this.prevent_next_content_update_from_parent?this.prevent_next_content_update_from_parent=!1:this.reset_content()},deep:!0},display:{handler(){this.update_pages_elts()}},page_format_mm:{handler(){this.update_css_media_style(),this.reset_content()}},page_margins:{handler(){this.reset_content()}},zoom:{handler(){this.update_pages_elts()}}}},v=r(6262);const y=(0,v.A)(m,[["render",p],["__scopeId","data-v-80f99f0c"]]);var _=y,b=_;return o=o["default"],o}()}));
//# sourceMappingURL=VueDocumentEditor.umd.min.js.map